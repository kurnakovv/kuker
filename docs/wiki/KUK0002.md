## üí° Title
KUK0002FileNameMismatchAnalyzer

## üÜî Rule ID
KUK0002

## üìù Description
This rule detects cases where the file name and file type names (e.g. `class`, `interface`, `struct`, `enum`, etc.) mismatch.

## ‚ùî Why this is a problem
Let's imagine you have an type in your database, say, `Customer`. Now you want to find this type in your code using a search engine. You type `Customer` and find nothing...
After using a symbol or full-text search across the codebase, you realize that `Customer` has been renamed in the code (even though it was previously just `User`), but someone forgot to rename it in the file name. This isn't a critical issue, but it degrades navigability and makes code exploration less predictable, as the word `Customer` can appear not only in the class name but also in the names of variables, methods, and so on.

## ‚öôÔ∏è Configuration

You can configure the severity of the rule using .editorconfig.
```.editorconfig
[*.cs]
dotnet_diagnostic.KUK0002.severity = warning # File name mismatch | https://github.com/kurnakovv/kuker/wiki/KUK0002

# Ignore some files (optional)
# Docs https://editorconfig.org/
[{TestService.cs,TestDto.cs}]
dotnet_diagnostic.KUK0002.severity = none # File name mismatch | https://github.com/kurnakovv/kuker/wiki/KUK0002
```

## üíª Example
```cs
// Filename is TestClass.cs
public class InvalidTestClass { } // ‚ùå Violation: type name does not match file name

// ---

// Filename is TestClass.cs
public class TestClass { } // ‚úÖ OK
```

## üóíÔ∏è Notes
* Namespaces | Types can be located either in [filescope or in block namespace](https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/proposals/csharp-10.0/file-scoped-namespaces), or without namespace at all.

* Multiple types | The comparison is carried out for all types at once, i.e. if a file contains several types (e.g. `UserService`, `IUserService`, `UserDto`) and the file name matches at least one of these types (e.g. `UserService.cs`), then the rule will not be violated, but if none of the types matches the file name (e.g. the file name is another `InvalidService.cs`), then the rule will be violated.

* [Partial classes](https://learn.microsoft.com/en-us/dotnet/csharp/programming-guide/classes-and-structs/partial-classes-and-methods) | If a file contains at least one class with the `partial` keyword, the rule is not applied. Why? Let's imagine you have several classes: `UserServiceGetUserServiceAdd.cs`, `UserServiceUpdate.cs`, `UserServiceDelete.cs`, and you use `UserService.cs` within all of these files. This isn't a violation, as partial classes are used to split one large class into multiple files. Why not ignore partial classes and compare adjacent types instead? Because a partial class may contain helper classes, such as `UserDto`, `UserType`, etc., that are unrelated to the file name.

* [Nested types](https://learn.microsoft.com/en-us/dotnet/csharp/programming-guide/classes-and-structs/nested-types) | This rule only works for top-level types, but not for nested types, i.e., if the file name is `MyClass.cs` and the file content is `InvalidClass.MyClass`, the rule will still be violated because only top-level types are considered.

* Empty file | If file is empty or with empty namespace, the rule is not applied. If you want to catch this situations, I recomend to use [RCS1259](https://josefpihrt.github.io/docs/roslynator/analyzers/RCS1259/) rule.

## üîó Links
- Issues: [#26](https://github.com/kurnakovv/kuker/issues/26)
- [Source code](https://github.com/kurnakovv/kuker/blob/dev/src/Kuker.Analyzers/Rules/Kuk0002FileNameMismatchAnalyzer.cs)  
- More examples in [tests](https://github.com/kurnakovv/kuker/blob/dev/tests/Kuker.Analyzers.Tests/Rules/Kuk0002FileNameMismatchAnalyzerTests.cs)  
- [Severity levels](https://learn.microsoft.com/en-us/dotnet/fundamentals/code-analysis/configuration-options#severity-level)
